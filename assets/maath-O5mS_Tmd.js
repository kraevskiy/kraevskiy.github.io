import{c as Q}from"./three-8LitQ1sK.js";function d(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function V(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function O(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?V(Object(e),!0).forEach(function(n){d(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}new Q;new Q;function E(t){return t*t*t*(t*(t*6-15)+10)}function I(t,r,e){return t*(1-e)+r*e}function K(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function H(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function le(t,r,e){return r&&H(t.prototype,r),e&&H(t,e),t}var D=function t(r,e,n){var a=this;K(this,t),d(this,"dot2",function(i,s){return a.x*i+a.y*s}),d(this,"dot3",function(i,s,u){return a.x*i+a.y*s+a.z*u}),this.x=r,this.y=e,this.z=n},ue=[new D(1,1,0),new D(-1,1,0),new D(1,-1,0),new D(-1,-1,0),new D(1,0,1),new D(-1,0,1),new D(1,0,-1),new D(-1,0,-1),new D(0,1,1),new D(0,-1,1),new D(0,1,-1),new D(0,-1,-1)],J=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],v=new Array(512),c=new Array(512),W=function(r){r>0&&r<1&&(r*=65536),r=Math.floor(r),r<256&&(r|=r<<8);for(var e=0;e<256;e++){var n;e&1?n=J[e]^r&255:n=J[e]^r>>8&255,v[e]=v[e+256]=n,c[e]=c[e+256]=ue[n%12]}};W(0);var oe=.5*(Math.sqrt(3)-1),k=(3-Math.sqrt(3))/6,ve=1/3,F=1/6,he=function(r,e){var n,a,i,s=(r+e)*oe,u=Math.floor(r+s),o=Math.floor(e+s),l=(u+o)*k,h=r-u+l,f=e-o+l,j,m;h>f?(j=1,m=0):(j=0,m=1);var p=h-j+k,g=f-m+k,w=h-1+2*k,M=f-1+2*k;u&=255,o&=255;var x=c[u+v[o]],B=c[u+j+v[o+m]],C=c[u+1+v[o+1]],y=.5-h*h-f*f;y<0?n=0:(y*=y,n=y*y*x.dot2(h,f));var S=.5-p*p-g*g;S<0?a=0:(S*=S,a=S*S*B.dot2(p,g));var _=.5-w*w-M*M;return _<0?i=0:(_*=_,i=_*_*C.dot2(w,M)),70*(n+a+i)},ce=function(r,e,n){var a,i,s,u,o=(r+e+n)*ve,l=Math.floor(r+o),h=Math.floor(e+o),f=Math.floor(n+o),j=(l+h+f)*F,m=r-l+j,p=e-h+j,g=n-f+j,w,M,x,B,C,y;m>=p?p>=g?(w=1,M=0,x=0,B=1,C=1,y=0):m>=g?(w=1,M=0,x=0,B=1,C=0,y=1):(w=0,M=0,x=1,B=1,C=0,y=1):p<g?(w=0,M=0,x=1,B=0,C=1,y=1):m<g?(w=0,M=1,x=0,B=0,C=1,y=1):(w=0,M=1,x=0,B=1,C=1,y=0);var S=m-w+F,_=p-M+F,T=g-x+F,X=m-B+2*F,Y=p-C+2*F,q=g-y+2*F,A=m-1+3*F,N=p-1+3*F,Z=g-1+3*F;l&=255,h&=255,f&=255;var ne=c[l+v[h+v[f]]],ae=c[l+w+v[h+M+v[f+x]]],se=c[l+B+v[h+C+v[f+y]]],ie=c[l+1+v[h+1+v[f+1]]],G=.6-m*m-p*p-g*g;G<0?a=0:(G*=G,a=G*G*ne.dot3(m,p,g));var b=.6-S*S-_*_-T*T;b<0?i=0:(b*=b,i=b*b*ae.dot3(S,_,T));var R=.6-X*X-Y*Y-q*q;R<0?s=0:(R*=R,s=R*R*se.dot3(X,Y,q));var $=.6-A*A-N*N-Z*Z;return $<0?u=0:($*=$,u=$*$*ie.dot3(A,N,Z)),32*(a+i+s+u)},fe=function(r,e){var n=Math.floor(r),a=Math.floor(e);r=r-n,e=e-a,n=n&255,a=a&255;var i=c[n+v[a]].dot2(r,e),s=c[n+v[a+1]].dot2(r,e-1),u=c[n+1+v[a]].dot2(r-1,e),o=c[n+1+v[a+1]].dot2(r-1,e-1),l=E(r);return I(I(i,u,l),I(s,o,l),E(e))},de=function(r,e,n){var a=Math.floor(r),i=Math.floor(e),s=Math.floor(n);r=r-a,e=e-i,n=n-s,a=a&255,i=i&255,s=s&255;var u=c[a+v[i+v[s]]].dot3(r,e,n),o=c[a+v[i+v[s+1]]].dot3(r,e,n-1),l=c[a+v[i+1+v[s]]].dot3(r,e-1,n),h=c[a+v[i+1+v[s+1]]].dot3(r,e-1,n-1),f=c[a+1+v[i+v[s]]].dot3(r-1,e,n),j=c[a+1+v[i+v[s+1]]].dot3(r-1,e,n-1),m=c[a+1+v[i+1+v[s]]].dot3(r-1,e-1,n),p=c[a+1+v[i+1+v[s+1]]].dot3(r-1,e-1,n-1),g=E(r),w=E(e),M=E(n);return I(I(I(u,f,g),I(o,j,g),M),I(I(l,m,g),I(h,p,g),M),w)},ge=Object.freeze({__proto__:null,seed:W,simplex2:he,simplex3:ce,perlin2:fe,perlin3:de}),U=Math.PI*2,me=function(){function t(r){K(this,t),d(this,"nextBurstTime",0),d(this,"nextFlashEndTime",0),d(this,"flashesDone",0),d(this,"isFlashing",!1),d(this,"currentCount",0),d(this,"flashIntensity",0),d(this,"isDecaying",!1),d(this,"autoBurst",!0),d(this,"decaySpeed",40),d(this,"minInterval",5e3),d(this,"maxInterval",1e4),d(this,"minDuration",50),d(this,"maxDuration",300),d(this,"count",5),Object.assign(this,r)}return le(t,[{key:"scheduleNextBurst",value:function(e){var n=Math.random()*(this.maxInterval-this.minInterval)+this.minInterval;this.nextBurstTime=e+n/1e3,this.flashesDone=0,this.isFlashing=!1}},{key:"burst",value:function(){this.nextBurstTime=0,this.flashesDone=0,this.isFlashing=!1}},{key:"update",value:function(e,n){if(e>this.nextBurstTime&&this.currentCount===0&&(this.currentCount=Math.floor(Math.random()*this.count)+1),this.flashesDone<this.currentCount&&e>this.nextBurstTime)if(this.isFlashing)this.isFlashing&&e>this.nextFlashEndTime&&(this.isFlashing=!1,this.isDecaying=!0,this.flashesDone++,this.flashesDone>=this.currentCount&&(this.currentCount=0,this.autoBurst&&this.scheduleNextBurst(e)));else{this.isFlashing=!0,this.flashIntensity=1;var a=Math.random()*(this.maxDuration-this.minDuration)+this.minDuration;this.nextFlashEndTime=e+a/1e3}return this.isDecaying&&(this.flashIntensity-=n*this.decaySpeed,this.flashIntensity=Math.max(0,Math.min(1,this.flashIntensity)),this.flashIntensity<=0&&(this.isDecaying=!1,this.flashIntensity=0)),this.flashIntensity}}]),t}();function pe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var r=t;t=0;for(var e=0;e<r.length;e++)t=(t+(e+1)*(r.charCodeAt(e)%96))%2147483647}return t===0&&(t=311),t}function L(t){var r=pe(t);return function(){var e=r*48271%2147483647;return r=e,e/2147483647}}var z=function t(r){var e=this;K(this,t),d(this,"seed",0),d(this,"init",function(n){e.seed=n,e.value=L(n)}),d(this,"value",L(this.seed)),this.init(r)},P=new z(Math.random()),ee={radius:1,center:[0,0,0]};function Me(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},ee),r),a=n.radius,i=n.center,s=0;s<t.length;s+=3){var u=e.value(),o=e.value(),l=Math.acos(2*o-1),h=U*u;t[s]=Math.sin(l)*Math.cos(h)*a+i[0],t[s+1]=Math.sin(l)*Math.sin(h)*a+i[1],t[s+2]=Math.cos(l)*a+i[2]}return t}function we(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},ee),r),a=n.radius,i=n.center,s=0;s<t.length;s+=3){var u=Math.pow(e.value(),.3333333333333333),o=e.value()*2-1,l=e.value()*2-1,h=e.value()*2-1,f=Math.sqrt(o*o+l*l+h*h);o=u*o/f,l=u*l/f,h=u*h/f,t[s]=o*a+i[0],t[s+1]=l*a+i[1],t[s+2]=h*a+i[2]}return t}var te={radius:1,center:[0,0]};function ye(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},te),r),a=n.radius,i=n.center,s=0;s<t.length;s+=2){var u=a*Math.sqrt(e.value()),o=e.value()*U;t[s]=Math.sin(o)*u+i[0],t[s+1]=Math.cos(o)*u+i[1]}return t}function Oe(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},te),r),a=n.radius,i=n.center,s=0;s<t.length;s+=2){var u=e.value()*U;t[s]=Math.sin(u)*a+i[0],t[s+1]=Math.cos(u)*a+i[1]}return t}var De={sides:1,center:[0,0]};function je(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},De),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],u=typeof a=="number"?a:a[1],o=0;o<t.length;o+=2)t[o]=(e.value()-.5)*s+i[0],t[o+1]=(e.value()-.5)*u+i[1];return t}function xe(t,r){return t}function Be(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},re),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],u=typeof a=="number"?a:a[1],o=typeof a=="number"?a:a[2],l=0;l<t.length;l+=3)t[l]=(e.value()-.5)*s+i[0],t[l+1]=(e.value()-.5)*u+i[1],t[l+2]=(e.value()-.5)*o+i[2];return t}var re={sides:1,center:[0,0,0]};function Ce(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,n=O(O({},re),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],u=typeof a=="number"?a:a[1],o=typeof a=="number"?a:a[2],l=0;l<t.length;l+=3)t[l]=(e.value()-.5)*s+i[0],t[l+1]=(e.value()-.5)*u+i[1],t[l+2]=(e.value()-.5)*o+i[2];return t}var Ie=Object.freeze({__proto__:null,FlashGen:me,Generator:z,onSphere:Me,inSphere:we,inCircle:ye,onCircle:Oe,inRect:je,onRect:xe,inBox:Be,onBox:Ce,noise:ge});export{Ie as i};
